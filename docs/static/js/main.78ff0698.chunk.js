(this["webpackJsonptest-luis-ruiz"]=this["webpackJsonptest-luis-ruiz"]||[]).push([[0],{35:function(e,t,n){},42:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(29),s=n.n(a),l=n(4),o=Object(c.createContext)(),i=n(5),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(null===t||void 0===t?void 0:t.type){case"login":return Object(i.a)(Object(i.a)({},null===t||void 0===t?void 0:t.payload),{},{logged:!0});case"logout":return{logged:!1};default:return e}},j=n(10),d=n(2),b=n(13),u=(n(35),n(0)),m=function(){var e=Object(d.g)(),t=Object(c.useContext)(o).dispatch,n=Object(c.useState)(!1),a=Object(l.a)(n,2),s=a[0],r=a[1],j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.useState)(e),n=Object(l.a)(t,2),a=n[0],s=n[1];return[a,function(e){var t=e.target;return s(Object(i.a)(Object(i.a)({},a),{},Object(b.a)({},t.name,t.value)))},function(){s(e)}]}({email:"",password:""}),m=Object(l.a)(j,2),O=m[0],v=m[1],x=O.email,h=O.password;return Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:"row justify-content-md-center",children:Object(u.jsx)("div",{className:"col-7 align-self-center",children:Object(u.jsxs)("div",{className:"login-form-container",children:[Object(u.jsx)("h4",{className:"text-center",children:" Login  "}),s&&Object(u.jsxs)("div",{className:"alert alert-warning alert-dismissible fade show",role:"alert",children:["User not found. Please verify the data",Object(u.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",children:Object(u.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(u.jsxs)("form",{onSubmit:function(n){n.preventDefault(),"test@test.com"===x&&"123456"===h?(t({type:"login",payload:{email:x,password:h}}),e.replace("/")):r(!0)},children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Email"}),Object(u.jsx)("input",{type:"email",name:"email",className:"form-control",placeholder:"email@email.com",value:x,onChange:v,required:!0})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Password"}),Object(u.jsx)("input",{type:"password",name:"password",className:"form-control",placeholder:"*****",value:h,onChange:v,required:!0})]}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]}),Object(u.jsx)("br",{})]})})})})},O=n(15),v=function(e){var t=e.logged,n=e.component,c=Object(O.a)(e,["logged","component"]);return Object(u.jsx)(d.b,Object(i.a)(Object(i.a)({},c),{},{component:function(e){return t?Object(u.jsx)(n,Object(i.a)({},e)):Object(u.jsx)(d.a,{to:"/login"})}}))},x=function(e){var t=e.logged,n=e.component,c=Object(O.a)(e,["logged","component"]);return Object(u.jsx)(d.b,Object(i.a)(Object(i.a)({},c),{},{component:function(e){return t?Object(u.jsx)(d.a,{to:"/home"}):Object(u.jsx)(n,Object(i.a)({},e))}}))},h=function(){var e=Object(c.useContext)(o).dispatch,t=Object(d.g)();return Object(u.jsxs)("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark",children:[Object(u.jsx)(j.b,{className:"navbar-brand",to:"/home",children:"home"}),Object(u.jsx)("div",{className:"navbar-collapse",children:Object(u.jsx)("div",{className:"navbar-nav"})}),Object(u.jsx)("div",{className:"navbar-collapse collapse w-100 order-3 dual-collapse2",children:Object(u.jsx)("ul",{className:"navbar-nav ml-auto",children:Object(u.jsx)("button",{type:"button",className:"btn nav-item nav-link",onClick:function(){e({type:"logout"}),t.replace("/login")},children:"Logout"})})})]})},p=(n(42),n(14)),f=n.n(p),g=function(){return Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col text-center",children:Object(u.jsx)("div",{className:"spinner-border loader ",role:"status",children:Object(u.jsx)("span",{className:"sr-only ",children:"Loading..."})})})})},N=function(e){var t=e.setPokemonUrl,n=Object(c.useState)(!0),a=Object(l.a)(n,2),s=a[0],o=a[1],i=Object(c.useState)("https://pokeapi.co/api/v2/pokemon?limit=10&offset=0"),r=Object(l.a)(i,2),j=r[0],d=r[1],b=Object(c.useState)({}),m=Object(l.a)(b,2),O=m[0],v=m[1];Object(c.useEffect)((function(){o(!0),f.a.get(j).then((function(e){var t=null===e||void 0===e?void 0:e.data;v(t),o(!1)})).catch((function(e){o(!1),console.log("Error al cargar la lista de pokemon ",e)}))}),[j]);var x=function(e){return d(e)};return Object(u.jsx)("div",{className:"pokemon-list-container",children:s?Object(u.jsx)(g,{}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("ul",{className:"list-group list-group-flush",children:null===O||void 0===O?void 0:O.results.map((function(e,n){return Object(u.jsx)("button",{type:"button",className:"list-group-item text-left text-capitalize",onClick:function(){return n=null===e||void 0===e?void 0:e.url,t(n);var n},children:null===e||void 0===e?void 0:e.name},"item-".concat(n))}))}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{className:"clearfix",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-outline-primary btn-sm float-left",disabled:null===(null===O||void 0===O?void 0:O.previous),onClick:function(){return x(null===O||void 0===O?void 0:O.previous)},children:"<<"}),Object(u.jsx)("button",{type:"button",className:"btn btn-outline-primary btn-sm float-right",disabled:null===(null===O||void 0===O?void 0:O.next),onClick:function(){return x(null===O||void 0===O?void 0:O.next)},children:">>"})]})]})})},k=function(e){var t,n,a,s=e.pokemonUrl,o=void 0===s?"https://pokeapi.co/api/v2/pokemon/1/":s,i=Object(c.useState)(!1),r=Object(l.a)(i,2),j=r[0],d=r[1],b=Object(c.useState)(),m=Object(l.a)(b,2),O=m[0],v=m[1];return Object(c.useEffect)((function(){d(!0),f.a.get(o).then((function(e){var t=null===e||void 0===e?void 0:e.data;v(t),d(!1)})).catch((function(e){d(!1),console.log("Error al cargar la informacion del pokemon ",e)}))}),[o]),Object(u.jsx)("div",{className:"pokemon-list-container",children:j?Object(u.jsx)(g,{}):O?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col",children:Object(u.jsx)("div",{className:"text-center",children:Object(u.jsx)("img",{className:"pokemon-image",src:null===O||void 0===O||null===(t=O.sprites)||void 0===t||null===(n=t.other)||void 0===n||null===(a=n.dream_world)||void 0===a?void 0:a.front_default,alt:null===O||void 0===O?void 0:O.name})})})}),Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col",children:[Object(u.jsx)("div",{className:"pokemon-name text-center text-capitalize",children:null===O||void 0===O?void 0:O.name}),Object(u.jsxs)("div",{className:"pokemon-info text-center",children:[Object(u.jsx)("span",{children:"Weight:\xa0"}),null===O||void 0===O?void 0:O.weight,Object(u.jsx)("br",{}),Object(u.jsx)("span",{children:"Base experience:\xa0"}),null===O||void 0===O?void 0:O.base_experience]})]})})]}):Object(u.jsx)("div",{className:"alert alert-primary text-center",role:"alert",children:"Click on the pokemon name to load information"})})},y=function(){var e=Object(c.useState)(),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(u.jsxs)("div",{className:"container-fluid mt-5",children:[Object(u.jsx)("h1",{children:"Pokemon List"}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col",children:Object(u.jsx)(N,{setPokemonUrl:a})}),Object(u.jsx)("div",{className:"col-8",children:Object(u.jsx)(k,{pokemonUrl:n})})]})]})},w=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(h,{}),Object(u.jsx)("div",{children:Object(u.jsxs)(d.d,{children:[Object(u.jsx)(d.b,{exact:!0,path:"/home",component:y}),Object(u.jsx)(d.a,{to:"/home"})]})})]})},S=function(){var e=Object(c.useContext)(o).user;return Object(u.jsx)(j.a,{children:Object(u.jsx)("div",{children:Object(u.jsxs)(d.d,{children:[Object(u.jsx)(x,{path:"/login",component:m,logged:null===e||void 0===e?void 0:e.logged}),Object(u.jsx)(v,{path:"/",component:w,logged:null===e||void 0===e?void 0:e.logged})]})})})},C=function(){return JSON.parse(localStorage.getItem("user"))||{logged:!1}},E=function(){var e=Object(c.useReducer)(r,{},C),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){return localStorage.setItem("user",JSON.stringify(n))}),[n]),Object(u.jsx)(o.Provider,{value:{user:n,dispatch:a},children:Object(u.jsx)(S,{})})};s.a.render(Object(u.jsx)(E,{}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.78ff0698.chunk.js.map